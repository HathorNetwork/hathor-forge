#!/bin/bash
# Hathor Core Wrapper for Tauri Development
# This script wraps the hathor-core Python application

HATHOR_CORE_DIR="${HATHOR_CORE_DIR:-/Users/andrecardoso/Dev/hathor/hathor-core}"
HATHOR_VENV="${HATHOR_VENV:-$HATHOR_CORE_DIR/.venv}"

if [ ! -d "$HATHOR_VENV" ]; then
    echo "Error: Hathor venv not found at $HATHOR_VENV" >&2
    echo "Please set HATHOR_VENV environment variable or run 'poetry install' in hathor-core" >&2
    exit 1
fi

# Activate venv and run hathor-cli
export PATH="$HATHOR_VENV/bin:$PATH"
export PYTHONPATH="$HATHOR_CORE_DIR:$PYTHONPATH"

exec python -m hathor_cli "$@"
